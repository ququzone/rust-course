Rust 所有权、不可变引用、可变引用规则总结
===================================

## 定义及规则

### 1.所有权：

- 每个值在Rust中都有一个唯一的所有者。
- 所有权规则确保了内存的安全性和避免了悬挂引用（dangling references）。
- 当所有者离开作用域时，值将被自动释放。
- 所有权转移有两种方法可以实现：变量赋值和函数参数传递

### 2.不可变引用：

- 可以通过使用不可变引用来借用值的访问权限。
- 不可变引用允许**多个**读取者同时访问数据，但不能修改它。
- 不可变引用的生命周期不能超过它所借用的值的生命周期(作用域)。
- 不可变引用可以被复制

### 3.可变引用：

- 可以通过使用可变引用来借用值的可读写权限。
- 可变引用在编译时进行借用检查，确保只有**一个**可变引用存在，并且没有不可变引用。也就是说不能和不可变引用生命周期**重叠**。
- 可变引用的生命周期也不能超过它所借用的值的生命周期。
- 可变引用不能被复制，只能转移（move）

### 引用的作用域

引用的作用域是从它定义到最后一次使用时结束。如果只是定义了没有使用，作用域只是它定义的那一行。

## 变量绑定行为

对于变量的绑定来说，默认做复制操作的类型如下：
1. 所有的整数类型
2. 布尔类型
3. 浮点数类型
4. 字符类型
5. 由以上类型组成的元组类型

其他类型，默认都是做值的移动操作。

## 总结

Rust的所有权机制以及不可变引用和可变引用的规则确保了代码的内存安全性和线程安全性。这种所有权模型使得在编译时就能捕获到一些常见的错误，例如数据竞争和空指针引用，从而减少了运行时错误的可能性。同时，通过合理使用引用和借用规则，可以在保持安全性的同时实现高效的并发和并行处理。在不需要完整所有权的地方，尽量使用引用。
